<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      7 &middot; Rey Abolofia
    
  </title>

  <!-- MathJax -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
      messageStyle: "none",
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/poole.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/syntax.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://purple4reina.github.io//public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://purple4reina.github.io//public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-1a">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Rey Abolofia
        </a>
      </h1>
      <p class="lead">mathematical and programmatic musings with a few cats</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://purple4reina.github.io/">Home</a>

      

      
      
        
          
        
      
        
      
        
      
        
      

      <a class="sidebar-nav-item" href="https://github.com/purple4reina">GitHub</a>
      <a class="sidebar-nav-item" href="https://www.linkedin.com/in/rabolofia/">LinkedIn</a>
    </nav>

    <p class="sidebar-copyright">&copy; <script>document.write(new Date().getFullYear())</script>. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Problem 7</h1>
  <em>completed November 29, 2011</em>
  <hr />
  <h2 id="try-one">Try One</h2>

<h3 id="comments">Comments</h3>

<p>This code works great. But it becomes incredibly slow when needing to reach
into those highest numbers. I was able to get the 9500th prime using this.</p>

<p>Making sure to refer to the list as “a reference to” in applescript helped
speed things up. But I still think I need a new approach.</p>

<h3 id="code">Code</h3>

<div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">set</span><span class="w"> </span><span class="nv">all_int</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">all_int</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">primes_list</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">bound</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">10000</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w">

</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">bound</span><span class="w">
	</span><span class="nb">copy</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">

</span><span class="k">set</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="k">repeat</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">(</span><span class="nv">bound</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
	
	</span><span class="k">if</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="ow">is not</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="k">then</span><span class="w">
		</span><span class="nb">copy</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w">
		</span><span class="k">try</span><span class="w">
			</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">bound</span><span class="w">
				</span><span class="k">set</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="p">(</span><span class="nv">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">n</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">false</span><span class="w">
			</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">
		</span><span class="k">end</span><span class="w"> </span><span class="k">try</span><span class="w">
	</span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
	</span><span class="k">set</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">
	
</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">

</span><span class="nb">log</span><span class="w"> </span><span class="p">((</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">t</span><span class="p">)</span><span class="w">
</span><span class="nb">log</span><span class="w"> </span><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="nv">primes_list</span><span class="p">)</span><span class="w">
</span><span class="nb">return</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span></code></pre></div></div>

<h2 id="try-two">Try Two</h2>

<h3 id="comments-1">Comments</h3>

<p>Trying to use google to find a list of the first 15000 consecutive integers
found nothing. Generating this list on my own was fast, only a few seconds. But
using this list gave a “stack overflow” error.</p>

<p>This next script worked to make the list of consecutive numbers smaller with
each repeat. While it worked great with bound=10,000 it was still not powerful
enough to handle the number sizes I need.</p>

<h3 id="code-1">Code</h3>

<div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">set</span><span class="w"> </span><span class="nv">all_int</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">all_int</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">primes_list</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">bound</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">100000</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w">

</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">bound</span><span class="w">
	</span><span class="nb">copy</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">


</span><span class="k">repeat</span><span class="w">
	</span><span class="k">if</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="ow">is not</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="k">then</span><span class="w">
		</span><span class="nb">copy</span><span class="w"> </span><span class="p">(</span><span class="nb">item</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">this_prime</span><span class="w">
		</span><span class="nb">copy</span><span class="w"> </span><span class="nv">this_prime</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w">
		</span><span class="k">try</span><span class="w">
			</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">bound</span><span class="w">
				</span><span class="k">set</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="p">((</span><span class="nv">this_prime</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">n</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">false</span><span class="w">
			</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">
		</span><span class="k">end</span><span class="w"> </span><span class="k">try</span><span class="w">
	</span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
	</span><span class="k">try</span><span class="w">
		</span><span class="nb">copy</span><span class="w"> </span><span class="p">(</span><span class="nb">items</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nb">thru</span><span class="w"> </span><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">all_int</span><span class="w">
	</span><span class="nb">on</span><span class="w"> </span><span class="k">error</span><span class="w">
		</span><span class="k">exit</span><span class="w"> </span><span class="k">repeat</span><span class="w">
	</span><span class="k">end</span><span class="w"> </span><span class="k">try</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">

</span><span class="nb">log</span><span class="w"> </span><span class="p">((</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">t</span><span class="p">)</span><span class="w">
</span><span class="nb">log</span><span class="w"> </span><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="nv">primes_list</span><span class="p">)</span><span class="w">
</span><span class="nb">log</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">try</span><span class="w">
	</span><span class="nb">return</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="mi">10001</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">try</span><span class="w">
</span></code></pre></div></div>

<h2 id="try-three">Try Three</h2>

<h3 id="comments-2">Comments</h3>

<p>I feel like I am getting no closer to the answer than when I began. I’ve added
timing counts into the script so I can see how changes in it effect the load.
It seems like the changes I’ve been making aren’t making it any more efficient.
Time for a new strategy.</p>

<h2 id="code-2">Code</h2>

<div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">set</span><span class="w"> </span><span class="nv">all_int</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">all_int</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">primes_list</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">new_int</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">new_int_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">new_int</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">bound</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">half_bound</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">bound</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w">

</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">bound</span><span class="w">
	</span><span class="nb">copy</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">

</span><span class="k">repeat</span><span class="w">
	</span><span class="c1">--log all_int</span><span class="w">
	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">item</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">half_bound</span><span class="w"> </span><span class="k">then</span><span class="w">
		</span><span class="k">set</span><span class="w"> </span><span class="nv">this_prime</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nb">item</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="p">)</span><span class="w">
		</span><span class="nb">copy</span><span class="w"> </span><span class="nv">this_prime</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w">
		</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="p">)</span><span class="w">
			</span><span class="nb">copy</span><span class="w"> </span><span class="p">(</span><span class="nb">item</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">n</span><span class="w">
			</span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nv">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">this_prime</span><span class="p">)</span><span class="w"> </span><span class="ow">mod</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">is not</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="p">(</span><span class="nv">n</span><span class="w"> </span><span class="ow">is not</span><span class="w"> </span><span class="nv">this_prime</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">copy</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">new_int_ref</span><span class="w">
		</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">
		</span><span class="nb">copy</span><span class="w"> </span><span class="nv">new_int</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">all_int</span><span class="w">
		</span><span class="k">set</span><span class="w"> </span><span class="nv">new_int</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
	</span><span class="k">else</span><span class="w">
		</span><span class="nb">log</span><span class="w"> </span><span class="p">((</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">t</span><span class="p">)</span><span class="w">
		</span><span class="nb">return</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">all_int_ref</span><span class="w">
		
		
	</span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">


</span><span class="c1">--log ((time of (current date)) - t)</span><span class="w">
</span><span class="c1">--log (count primes_list_ref)</span><span class="w">
</span><span class="nb">return</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">try</span><span class="w">
	</span><span class="nb">return</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="mi">10001</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">try</span><span class="w">
</span></code></pre></div></div>

<h2 id="try-four">Try Four</h2>

<h3 id="comments-3">Comments</h3>

<p>This script has managed to cut 5 seconds off the time to evaluate 50,000
integers. I’m hoping that will be enough of a difference when it comes to the
biggest numbers. My strategy was to cut down the number of “repeat” statements
I’m using, thus cutting the amount of computation. I used a handler that
evaluates if an integer is prime or not. This way, I don’t have to create the
big list of integers first, because a repeat statement already has ordered
integers built in to it.</p>

<h3 id="results">Results</h3>

<p>It’s good!</p>

<h3 id="code-3">Code</h3>

<div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">set</span><span class="w"> </span><span class="nv">primes_list</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="ow">reference to</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span><span class="k">set</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w">


</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">this_num</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">150000</span><span class="w">
	</span><span class="nb">copy</span><span class="w"> </span><span class="nv">is_this_prime</span><span class="p">(</span><span class="nv">this_num</span><span class="p">,</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">this_eval</span><span class="w">
	</span><span class="k">if</span><span class="w"> </span><span class="nv">this_eval</span><span class="w"> </span><span class="ow">is not</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">copy</span><span class="w"> </span><span class="nv">this_eval</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w">
	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="p">(</span><span class="nv">primes_list_ref</span><span class="p">))</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10001</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">return</span><span class="w"> </span><span class="nb">item</span><span class="w"> </span><span class="mi">10001</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">

</span><span class="k">to</span> <span class="nv">is_this_prime</span><span class="p">(</span><span class="nv">a_num</span><span class="p">,</span><span class="w"> </span><span class="nv">primes_list</span><span class="p">)</span><span class="w">
	</span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">a_prime</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nv">a_num</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">a_prime</span><span class="w"> </span><span class="ow">mod</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
			</span><span class="nb">return</span><span class="w"> </span><span class="p">{}</span><span class="w">
		</span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
	</span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">
	</span><span class="nb">return</span><span class="w"> </span><span class="nv">a_num</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">is_this_prime</span><span class="w">

</span><span class="nb">log</span><span class="w"> </span><span class="p">((</span><span class="nv">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">(</span><span class="nb">current date</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">t</span><span class="p">)</span><span class="w">
</span><span class="nb">log</span><span class="w"> </span><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="nv">primes_list_ref</span><span class="p">)</span><span class="w">
</span><span class="nb">return</span><span class="w"> </span><span class="nv">primes_list</span><span class="w">
</span></code></pre></div></div>

</div>

    </div>

  </body>
</html>
