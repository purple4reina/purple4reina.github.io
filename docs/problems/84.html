<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      84 &middot; Rey Abolofia
    
  </title>

  <!-- MathJax -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
      messageStyle: "none",
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/poole.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/syntax.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://purple4reina.github.io//public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://purple4reina.github.io//public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-1a">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Rey Abolofia
        </a>
      </h1>
      <p class="lead">mathematical and programmatic musings with a few cats</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://purple4reina.github.io/">Home</a>

      

      
      
        
          
        
      
        
      
        
      
        
      

      <a class="sidebar-nav-item" href="https://github.com/purple4reina">GitHub</a>
      <a class="sidebar-nav-item" href="https://www.linkedin.com/in/rabolofia/">LinkedIn</a>
    </nav>

    <p class="sidebar-copyright">&copy; <script>document.write(new Date().getFullYear())</script>. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Problem 84</h1>
  <em>completed February 14, 2012</em>
  <hr />
  <h2 id="comments">Comments</h2>

<p>I looked up Monopoly on Wikipedia which lead me to a couple of outside webpages
and the concept of the Markov chain.</p>

<p>I did not make a Markov chain for this problem. Instead I used the “Monte
Carlo” method. I had the script roll the dice a million times (literally) and
keep track of where it lands each time based on the rules given. The squares
that at the end of the million rolls had the most visits also had the highest
probability.</p>

<p>This method took longer than if I used a Markov chain, but it was effective
nonetheless.</p>

<h2 id="code">Code</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">random</span> <span class="kn">import</span> <span class="n">randint</span>

<span class="k">def</span> <span class="nf">rules</span><span class="p">(</span><span class="nb">next</span><span class="p">):</span>
	<span class="c1"># go to jail:
</span>	<span class="k">if</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">30</span><span class="p">:</span>
		<span class="k">return</span> <span class="mi">10</span>
	
	<span class="c1"># comunity chest:
</span>	<span class="k">elif</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">or</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">17</span> <span class="ow">or</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">33</span><span class="p">:</span>
		<span class="n">CC</span> <span class="o">=</span> <span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">CC</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">0</span>
		<span class="k">elif</span> <span class="n">CC</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">10</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="nb">next</span>
	
	<span class="c1"># chance:
</span>	<span class="k">elif</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">7</span> <span class="ow">or</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">22</span> <span class="ow">or</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">36</span><span class="p">:</span>
		<span class="n">CH</span> <span class="o">=</span> <span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">0</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">10</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">11</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">24</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">39</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">5</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">7</span> <span class="ow">or</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
				<span class="k">return</span> <span class="mi">15</span>
			<span class="k">elif</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">22</span><span class="p">:</span>
				<span class="k">return</span> <span class="mi">25</span>
			<span class="k">elif</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">36</span><span class="p">:</span>
				<span class="k">return</span> <span class="mi">5</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">7</span> <span class="ow">or</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">36</span><span class="p">:</span>
				<span class="k">return</span> <span class="mi">12</span>
			<span class="k">elif</span> <span class="nb">next</span> <span class="o">==</span> <span class="mi">22</span><span class="p">:</span>
				<span class="k">return</span> <span class="mi">28</span>
		<span class="k">elif</span> <span class="n">CH</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
			<span class="k">return</span> <span class="nf">rules</span><span class="p">(</span><span class="nb">next</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="nb">next</span>
	
	<span class="k">else</span><span class="p">:</span>
		<span class="k">return</span> <span class="nb">next</span>

<span class="k">def</span> <span class="nf">three_doubles</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
	<span class="n">r1</span> <span class="o">=</span> <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
	<span class="n">r2</span> <span class="o">=</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
	<span class="n">r3</span> <span class="o">=</span> <span class="n">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
	
	<span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">r1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">r2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">r2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">r3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">r3</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
		<span class="k">return</span> <span class="bp">True</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">return</span> <span class="bp">False</span>


<span class="n">squareDict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="nf">zip</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="mi">40</span><span class="p">),[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">40</span><span class="p">))</span>

<span class="n">current_square</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">last_square</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">total_rolls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">roll_hist</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>

<span class="k">while</span> <span class="n">total_rolls</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">:</span>
	<span class="n">roll_hist</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)))</span>
	<span class="k">del</span> <span class="n">roll_hist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
	<span class="n">total_rolls</span> <span class="o">+=</span> <span class="mi">1</span>
	
	<span class="k">if</span> <span class="nf">three_doubles</span><span class="p">(</span><span class="n">roll_hist</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
		<span class="n">squareDict</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
		<span class="n">last_square</span> <span class="o">=</span> <span class="mi">10</span>
		<span class="n">roll_hist</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">current_square</span> <span class="o">=</span> <span class="nf">rules</span><span class="p">((</span><span class="n">last_square</span> <span class="o">+</span> <span class="nf">sum</span><span class="p">(</span><span class="n">roll_hist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span><span class="o">%</span><span class="mi">40</span><span class="p">)</span>
		<span class="n">squareDict</span><span class="p">[</span><span class="n">current_square</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
		<span class="n">last_square</span> <span class="o">=</span> <span class="n">current_square</span>
		
<span class="n">largest</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">this</span> <span class="ow">in</span> <span class="n">squareDict</span><span class="p">.</span><span class="nf">iteritems</span><span class="p">():</span>
	<span class="k">if</span> <span class="n">this</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nf">min</span><span class="p">(</span><span class="n">largest</span><span class="p">)[</span><span class="mi">0</span><span class="p">]:</span>
		<span class="n">largest</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">largest</span><span class="p">))</span>
		<span class="n">largest</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">this</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

<span class="k">print</span> <span class="n">largest</span>
</code></pre></div></div>

</div>

    </div>

  </body>
</html>
