<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      150 &middot; Rey Abolofia
    
  </title>

  <!-- MathJax -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
      messageStyle: "none",
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/poole.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/syntax.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://purple4reina.github.io//public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://purple4reina.github.io//public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-1a">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Rey Abolofia
        </a>
      </h1>
      <p class="lead">mathematical and programmatic musings with a few cats</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://purple4reina.github.io/">Home</a>

      

      
      
        
          
        
      
        
      
        
      
        
      

      <a class="sidebar-nav-item" href="https://github.com/purple4reina">GitHub</a>
      <a class="sidebar-nav-item" href="https://www.linkedin.com/in/rabolofia/">LinkedIn</a>
    </nav>

    <p class="sidebar-copyright">&copy; <script>document.write(new Date().getFullYear())</script>. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Problem 150</h1>
  <em>completed March 15, 2012</em>
  <hr />
  <h2 id="comments">Comments</h2>

<p>I feel like I’m getting to the point with these problems where Python is just
not going to be fast enough. It took over an hour for this one to run and
unless there’s some clever and more logical way to do it, then I’m at a loss to
figure out how it could run any faster than that.</p>

<p>With my first try at this problem, I found that I was having it calculate the
same thing multiple times. This meant going through many for and while loops
for each test. I solved this by creating a couple of arrays to store the values
in. I think this is one place that I could find a way to work up the speed.
There are probably faster ways to store data with Python, but I’m not sure how.</p>

<h2 id="code">Code</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># bounds
</span>
<span class="n">low</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">high</span> <span class="o">=</span> <span class="mi">500500</span>
<span class="n">rows</span> <span class="o">=</span> <span class="mi">1000</span>


<span class="c1"># definitions
</span>
<span class="k">def</span> <span class="nf">random</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>
	<span class="n">t</span> <span class="o">=</span> <span class="mi">0</span> 
	<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span> 
	    <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">615949</span><span class="o">*</span><span class="n">t</span> <span class="o">+</span> <span class="mi">797807</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="o">**</span><span class="mi">20</span> 
	    <span class="k">yield</span> <span class="n">t</span> <span class="o">-</span> <span class="mi">2</span><span class="o">**</span><span class="mi">19</span>

<span class="k">def</span> <span class="nf">trirow</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
	<span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="k">while</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">):</span>
		<span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
	<span class="k">return</span> <span class="n">n</span>

<span class="k">def</span> <span class="nf">trisum</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">depth</span><span class="p">):</span>
	<span class="n">diff</span> <span class="o">=</span> <span class="n">trirowdict</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
	<span class="n">total</span> <span class="o">=</span> <span class="n">randlist</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
	<span class="n">r</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="k">while</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">depth</span><span class="p">:</span>
		<span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>
		<span class="nb">next</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">diff</span>
		<span class="n">total</span> <span class="o">+=</span> <span class="n">randlist</span><span class="p">[</span><span class="nb">next</span><span class="p">]</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
			<span class="n">total</span> <span class="o">+=</span> <span class="n">randlist</span><span class="p">[</span><span class="nb">next</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span>
		<span class="n">start</span> <span class="o">=</span> <span class="nb">next</span> <span class="o">+</span> <span class="n">i</span>
	<span class="k">return</span> <span class="n">total</span>	

<span class="k">def</span> <span class="nf">trisumiter</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">depth</span><span class="p">):</span>
	<span class="n">diff</span> <span class="o">=</span> <span class="n">trirowdict</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
	<span class="n">total</span> <span class="o">=</span> <span class="n">randlist</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
	<span class="k">yield</span> <span class="n">total</span>
	<span class="n">r</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="k">while</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">depth</span><span class="p">:</span>
		<span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>
		<span class="nb">next</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">diff</span>
		<span class="n">total</span> <span class="o">+=</span> <span class="n">randlist</span><span class="p">[</span><span class="nb">next</span><span class="p">]</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
			<span class="n">total</span> <span class="o">+=</span> <span class="n">randlist</span><span class="p">[</span><span class="nb">next</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span>
		<span class="n">start</span> <span class="o">=</span> <span class="nb">next</span> <span class="o">+</span> <span class="n">i</span>
		<span class="k">yield</span> <span class="n">total</span>


<span class="c1"># create arrays
</span>
<span class="n">randlist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nf">random</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
	<span class="n">randlist</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">randlist</span> <span class="o">=</span> <span class="nf">tuple</span><span class="p">(</span><span class="n">randlist</span><span class="p">)</span>

<span class="n">trirowdict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
	<span class="n">trirowdict</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="nf">trirow</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>


<span class="c1"># search by brute force
</span>
<span class="n">prev</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">7</span>
<span class="k">for</span> <span class="n">start</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">randlist</span><span class="p">)):</span>
	<span class="k">if</span> <span class="n">start</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
	<span class="n">startrow</span> <span class="o">=</span> <span class="n">trirowdict</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
	<span class="k">if</span> <span class="n">startrow</span> <span class="o">==</span> <span class="n">rows</span><span class="p">:</span> <span class="k">continue</span>
	<span class="n">trisumdict</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
	<span class="k">print</span> <span class="n">start</span>
	<span class="k">for</span> <span class="n">thissum</span> <span class="ow">in</span> <span class="nf">trisumiter</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">rows</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">startrow</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">thissum</span> <span class="o">&lt;</span> <span class="n">prev</span><span class="p">:</span>
			<span class="n">prev</span> <span class="o">=</span> <span class="n">thissum</span>
			

<span class="k">print</span> <span class="n">prev</span>
</code></pre></div></div>

</div>

    </div>

  </body>
</html>
